package  {		import flash.display.Sprite;		import flash.external.ExtensionContext;	import flash.events.StatusEvent;	import flash.events.Event;	import flash.display.BitmapData;	public class WeiboAPI extends Sprite {				var ext:ExtensionContext;		public var onCall:Function;		public var code:String;		public var level:String;		public function WeiboAPI() {			// constructor code			 			ext=ExtensionContext.createExtensionContext("com.cnwuxia.weibo.WeiboAPI","");			ext.addEventListener(StatusEvent.STATUS,onStatus); 		}		public function onStatus(e:StatusEvent):void{ 			switch(e.code){ 				case "responseStart":				//trace("responseStart"+e.code,e.level);				break;			 } 			 code=String(e.code);			 level=String(e.level);			this.dispatchEvent(new Event(WeiboAPIEvent.RESPONSE));					}		public function registerKey(appkey:String,redirectURL:String):Boolean{			return ext.call("registerKey",appkey,redirectURL);			}		public function call(code:String,data:*=null){			return ext.call(code,data);			}		public function share(msg:String,bmp:BitmapData):Boolean{			return ext.call("share",msg,bmp);			}				public function test(data):Boolean{			return ext.call("test",data)		}		public function auth(scope:String="all"):Boolean{			return ext.call("auth");		}		public function isSupport():Boolean{			return ext.call("isSupported");		}	}	}